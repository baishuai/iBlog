<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>使用 mirror 和 hugo 实现 github issue 的博客自动同步 - Befovy 的博客 | Befovy blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Befovy" /><meta name="description" content="一直觉得 Issue 是个特别好用的记录工具，看到很多人也直接把 Issue 作为个人博客。 Issue 可以碎片化的记录一些东西，然后在进行整理，最终形成一篇不错的博客内容。
Issue 适合记录博客，但我觉得直接以 Issue 的形式将内容展示给读者还是缺少了博客本来的样子。毕竟Issue不支持自定义主题。
我青睐的形式是：通过 Issue 进行写作，然后自动发布到博客站点。 所以就产生了 mirror 这个工具。
mirror 能够自动抓取 github 项目里的 issue，并输出为 hugo 支持的构建格式。 通过 hugo 自动生成静态网页，最终通过自动工具实现部署。
使用 github webhooks 以及很少的自动化脚本就可以实现这个过程的全自动化。
" />






<meta name="generator" content="Hugo 0.53 with even 4.0.0" />


<link rel="canonical" href="https://blog.befovy.com/2019/06/issue_20190630_6/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/befovy/blogback@master/docs/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/befovy/blogback@master/docs/favicon-16x16.png">
<link rel="manifest" href="https://cdn.jsdelivr.net/gh/befovy/blogback@master/docs/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="https://cdn.jsdelivr.net/gh/befovy/blogback@master/docs/dist/even.c2a46f00.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="使用 mirror 和 hugo 实现 github issue 的博客自动同步" />
<meta property="og:description" content="一直觉得 Issue 是个特别好用的记录工具，看到很多人也直接把 Issue 作为个人博客。 Issue 可以碎片化的记录一些东西，然后在进行整理，最终形成一篇不错的博客内容。

Issue 适合记录博客，但我觉得直接以 Issue 的形式将内容展示给读者还是缺少了博客本来的样子。毕竟Issue不支持自定义主题。

我青睐的形式是：通过 Issue 进行写作，然后自动发布到博客站点。 所以就产生了 mirror  这个工具。

mirror 能够自动抓取 github 项目里的 issue，并输出为 hugo 支持的构建格式。 通过 hugo 自动生成静态网页，最终通过自动工具实现部署。

使用 github webhooks 以及很少的自动化脚本就可以实现这个过程的全自动化。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.befovy.com/2019/06/issue_20190630_6/" /><meta property="article:published_time" content="2019-06-30T13:53:30&#43;00:00"/>
<meta property="article:modified_time" content="2019-08-12T02:14:12&#43;00:00"/>

<meta itemprop="name" content="使用 mirror 和 hugo 实现 github issue 的博客自动同步">
<meta itemprop="description" content="一直觉得 Issue 是个特别好用的记录工具，看到很多人也直接把 Issue 作为个人博客。 Issue 可以碎片化的记录一些东西，然后在进行整理，最终形成一篇不错的博客内容。

Issue 适合记录博客，但我觉得直接以 Issue 的形式将内容展示给读者还是缺少了博客本来的样子。毕竟Issue不支持自定义主题。

我青睐的形式是：通过 Issue 进行写作，然后自动发布到博客站点。 所以就产生了 mirror  这个工具。

mirror 能够自动抓取 github 项目里的 issue，并输出为 hugo 支持的构建格式。 通过 hugo 自动生成静态网页，最终通过自动工具实现部署。

使用 github webhooks 以及很少的自动化脚本就可以实现这个过程的全自动化。">


<meta itemprop="datePublished" content="2019-06-30T13:53:30&#43;00:00" />
<meta itemprop="dateModified" content="2019-08-12T02:14:12&#43;00:00" />
<meta itemprop="wordCount" content="232">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="使用 mirror 和 hugo 实现 github issue 的博客自动同步"/>
<meta name="twitter:description" content="一直觉得 Issue 是个特别好用的记录工具，看到很多人也直接把 Issue 作为个人博客。 Issue 可以碎片化的记录一些东西，然后在进行整理，最终形成一篇不错的博客内容。

Issue 适合记录博客，但我觉得直接以 Issue 的形式将内容展示给读者还是缺少了博客本来的样子。毕竟Issue不支持自定义主题。

我青睐的形式是：通过 Issue 进行写作，然后自动发布到博客站点。 所以就产生了 mirror  这个工具。

mirror 能够自动抓取 github 项目里的 issue，并输出为 hugo 支持的构建格式。 通过 hugo 自动生成静态网页，最终通过自动工具实现部署。

使用 github webhooks 以及很少的自动化脚本就可以实现这个过程的全自动化。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Befovy</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Befovy</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">使用 mirror 和 hugo 实现 github issue 的博客自动同步</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-06-30 </span>
        
          <span class="more-meta"> 约 232 字 </span>
          <span class="more-meta"> 预计阅读 2 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#mirror">mirror</a>
<ul>
<li><a href="#mirror-配置文件">mirror 配置文件</a></li>
</ul></li>
<li><a href="#hugo">hugo</a></li>
<li><a href="#完整步骤">完整步骤</a></li>
</ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>一直觉得 Issue 是个特别好用的记录工具，看到很多人也直接把 Issue 作为个人博客。 Issue 可以碎片化的记录一些东西，然后在进行整理，最终形成一篇不错的博客内容。</p>

<p>Issue 适合记录博客，但我觉得直接以 Issue 的形式将内容展示给读者还是缺少了博客本来的样子。毕竟Issue不支持自定义主题。</p>

<p>我青睐的形式是：通过 Issue 进行写作，然后自动发布到博客站点。 所以就产生了 <a href="https://github.com/befovy/mirror">mirror</a>  这个工具。</p>

<p>mirror 能够自动抓取 github 项目里的 issue，并输出为 hugo 支持的构建格式。 通过 hugo 自动生成静态网页，最终通过自动工具实现部署。</p>

<p>使用 github webhooks 以及很少的自动化脚本就可以实现这个过程的全自动化。</p>

<!--mirror-->

<h1 id="mirror">mirror</h1>

<p><a href="https://github.com/befovy/mirror">mirror</a> 通过 github 提供的 graphql 进行 Issues 内容抓取。<br />
通过一些自定义规则，实现 Issues 内容的分类提取，并整理输出博客内容。</p>

<p>mirror 规则</p>

<h2 id="mirror-配置文件">mirror 配置文件</h2>

<p>mirror 的配置文件使用 yaml 格式， 参考 <a href="./conf.yaml">conf.yaml</a><br />
默认查找运行目录下的mirror.yaml 作为输入配置文件</p>

<p>配置文件中可定义多个内容来源。 每一种不同的内容来源，都有其具体的配置项。</p>

<p>内容来源 &ldquo;issues&rdquo; 具体的配置内容有</p>

<ul>
<li>token: github token, 需要有 issue 读取权限</li>
<li>login: github username</li>
<li>repo:  要抓取的 issue 所在的 repo 名称</li>
<li>prefix: 输出文件名的统一前缀</li>
<li>output: 转换成 hugo 博客内容后的本地输出目录，建议指定为 hugo 博客的 content 目录</li>
</ul>

<p>内容来源 Issue 的抓取规则</p>

<ol>
<li>draft</li>
</ol>

<p>打开的Issue 视为博客草稿，不抓取。只抓取已经关闭的 Issue 内容。</p>

<ol>
<li>content</li>
</ol>

<p>issue 本身有 body 和 comment。 新建issue时的内容是body， 之后所有项目本人和其它 githuber 的追加的内容都是评论。</p>

<p>Mirror 支持将 Issue body 和 comment 都抓取下来余与body部分拼接合并作为完整博客内容。</p>

<p>由于 Issue 都是公开的，可能会被别人评论，作者还可能回复提问者。
为了区分这种情况，mirror 只拼接 comment 作者是项目作者本人， 且在 comment 开头有一句 html <code>&lt;!--mirror--&gt;</code> 注释语句的comment。</p>

<!--mirror-->

<h1 id="hugo">hugo</h1>

<p><a href="https://gohugo.io/">hugo</a> 是一个非常棒的静态页面生成器，可以把 markdown 内容，搭配各种主题生成你想要的静态博客内容。  这些内容托管在 github pages 上博客就部署好了。</p>

<!--mirror-->

<h1 id="完整步骤">完整步骤</h1>

<ol>
<li><p>生成项目
在当前目录下创建 blog 目录，并在其中生成hugo 项目的基本配置</p>

<pre><code>hugo new site ./blog
</code></pre></li>

<li><p>创建博客所需的github项目
github 上存在一个特殊的仓库名，可以自动生成静态站点方文仓库中的 html 文件。
这个仓库的具体命名规则是， &lt;你的github账号&gt;.github.io<br />
比如 <a href="https://github.com/befovy/befovy.github.io">befovy.github.io</a>
对应自动生成网站的网址就是这个仓库的名称，<a href="https://befovy.github.io">https://befovy.github.io</a></p></li>

<li><p>在第二步的github 仓库中创建博客内容
新建 issue ，记录你的想法，完成之后关闭 issue。
如果想让一些issue 评论在最终生成的博客页面中也可见，在 issue 的评论开始输入 <!---> 即可。</p></li>

<li><p>使用 mirror 工具自动抓去 issues 内容到 hugo 项目中
mirror 工具使用 go语言编写，目前没有提供直接可用的二进制包，需要从源码安装运行。
配置好 go 环境后，安装mirror</p>

<pre><code>go get -u -v github.com/befovy/mirror
cd $GOPATH/src/github.com/befovy/mirror
</code></pre>

<p>按照 readme 中的说明设置所需配置文件，并运行程序</p></li>

<li><p>安装 hugo 主题
在hugo 主题中挑选一个自己喜欢的风格，安装到本地hugo项目中。
这里安装 even 主题作为示例。
安装主题后使用主题提供的默认hugo 项目配置</p>

<pre><code>git clone https://github.com/olOwOlo/hugo-theme-even themes/even
cp themes/even/exampleSite/config.toml ./
</code></pre></li>

<li><p>生成网站
运行 hugo 命令生成静态内容，注意这里需要设置 baseUrl。</p>

<pre><code>hugo --theme=even --baseUrl=&quot;https://befovy.github.io/&quot;
</code></pre></li>

<li><p>提交至 github
上一步命令中会在 public 文件夹下生成静态博客网站所需要的全部内容。
将 public 目录中的内容全部提交到第二步创建的github仓库就大功告成了。
👏</p></li>
</ol>

<p>如果有兴趣和精力，还可以用 github 提供的 webhooks，自行配置服务器并利用 hooks 自动触发这些过程的执行，可实现博客的自动更新。</p>

<blockquote>
<p>本文通过 mirror 和 hugo 生成，原始地址 <a href="https://github.com/befovy/blogback/issues/6">https://github.com/befovy/blogback/issues/6</a></p>
</blockquote>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Befovy</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2019-08-12
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/2019/06/issue_20190630_5/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">用 CMake 为 ijkplayer 增加 android native debug 支持</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
      </nav>
    </footer>
  </article>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/befovy" class="iconfont icon-github" title="github"></a>
  <a href="https://blog.befovy.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2018 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Befovy</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/befovy/blogback@master/docs/dist/even.26188efa.min.js"></script>

<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?92addb450ecf9417a02f971789533f13";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>






</body>
</html>
